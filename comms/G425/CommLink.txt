# File generated by Wizard 2.2205.6 on Nov 26, 2025.

include_once CommNetwork.txt

# The CommLink struct defines a communication link between two platforms. Anytime
# the source platform generates a message, it will be sent out on any commlink that
# supports that message type.
# CommLinks are unidirectional, so if comm between two platforms is birectional
# then two CommLinks must be created, one for each direction. 
script_struct CommLink
   script_variables
      WsfPlatform mSourcePlatform = null;
      WsfPlatform mTargetPlatform = null;
      CommNetwork mCommNetwork    = CommNetwork();
      Set<string> mMessageTypes   = null;

      # Whether this CommMessage instance is valid 
      bool mIsValid = false;
   end_script_variables
   
   script WsfPlatform GetSourcePlatform() { return mSourcePlatform; } end_script
   script WsfPlatform GetTargetPlatform() { return mTargetPlatform; } end_script
   script CommNetwork GetCommNetwork() { return mCommNetwork; } end_script
   script Set<string> GetMessageTypes() { return mMessageTypes; } end_script
   script bool IsValid() { return mIsValid; } end_script
end_script_struct

# Creates a CommNetwork with zero delay
script CommLink ConstructCommLink( WsfPlatform aSourcePlatform, 
                                   WsfPlatform aTargetPlatform, 
                                   CommNetwork aCommNetwork, 
                                   Set<string> aMessageTypes )
   CommLink commLink = CommLink();
   
   commLink.mSourcePlatform = aSourcePlatform;
   commLink.mTargetPlatform = aTargetPlatform;
   commLink.mCommNetwork    = aCommNetwork;
   commLink.mMessageTypes   = aMessageTypes;
   
   return commLink;
end_script
