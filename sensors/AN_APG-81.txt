#                                AN/MPQ-53/-65 Radar
#
#      This is the threat detection, tracking and guidance radar for PAC-3.
#
# NOTE: The -65 was an improvement to the -53. The -53 was used for PAC-2.
#       For our purposes they are identical.
#
# NOTE: In reality this is a multi-function radar with many modes. Everything
#       is collapsed to a single mode.
#
# References: (PDF files contained in the subdirectory an_mpq-65_ref)
#
# 1) Jane's JREW AN/MPQ-53/-65, 014-Aug-2009
#    a) C band (4-8 gHz
#    b) Antenna is 2.44 m diameter, 5,161 element phased-array
#    c) 3-170 km detection range.
#    d) Search sector is 90 deg, track is 120 deg
#
# 2) http://www.globalsecurity.org/space/library/policy/army/fm/3-01-85/appb.htm
#    a) 'Radar antenna is positioned at the forward end of the shelter and is
#       erected to a fixed 67.5 deg angle relative to the horizontal plane'.
#
# 3) http://www.mobileradar.org/radar_descptn_2.html
#    a) AN/MPQ-53 can track 50 targets and control 9 missiles.
#       (Other sources have said it can track 100 targets)
# *********************************************************************************************** #

# Include the G425_SENSOR_BASE sensor 
include_once sensors/G425_SENSOR_BASE.txt

################ IMPORTANT ####################
#############
#NONE OF THIS IS CORRECT FOR AN/APG-81 NEED TO FIND REAL VALUES
#############

#TO DO: NEED REAL VALUES
antenna_pattern AN_MPQ-81_ANTENNA
   circular_pattern
      beamwidth                        1.0 deg              # Typical for phased-array tracker
      peak_gain                        40.0 db              # Typical for phased-array tracker
end_antenna_pattern

# Define the LARGE sensor for the RCS algorithm
sensor AN_MPQ-81_LARGE G425_SENSOR_BASE
   mode large

   frame_time                          1 sec

   electronic_beam_steering            azimuth_and_elevation
   electronic_beam_steering_limit      70 deg               # Input from IBCS SME, different from Ref 1
                                                            # Value needs to be 1/2 of track sector
   electronic_beam_steering_loss_exponent 1.4               # Typical for phased-array

   transmitter
      antenna_pattern                  AN_MPQ-81_ANTENNA
      frequency                        6 ghz                # Ref 1, C band (4-8)

      # Nothing was specified about the power. But something must be given so the model
      # can compute a receiver noise power that results in a detection range of 170 km.
      #
      # The actual power isn't important because passive detection of the transmitter is
      # not being considered.

      power                            50 kw

      # We don't know anything else about the transmitted signal (pulse width, PRF,
      # pulse_compression), so nothing is supplied.

   end_transmitter

   receiver
      antenna_pattern                  AN_MPQ-81_ANTENNA

      # We don't know anything about the receiver (noise figure, etc.) The effective
      # noise power is derived by the model to get the required nominal detection range.
      #
      # This will probably result in a ridiculously low effective noise power, but
      # because we don't know anything about the transmitted signal modulation, we just
      # have let it ride. It shouldn't be important because we aren't worried about jamming
      # or passive detection.

   end_receiver

   detection_threshold                 12.8 db              # Nominal Swerling case 1, Pd=0.5
   #one_m2_detect_range                 170  km              # Ref 1
   compute_measurement_errors enable
   
   hits_to_establish_track             3 5
   hits_to_maintain_track              2 5
   reports_range
   reports_bearing
   reports_elevation
   reports_velocity
   reports_iff
   


   # DATA PAST THIS POINT IS BASED ON THE G425 WORKING DECK

   # Sensor scan angles
   scan_mode                           azimuth_and_elevation
   azimuth_scan_limits                 -70 deg 70 deg       # From Working Deck
   elevation_scan_limits               -70 deg 70 deg       # From Working Deck

   # This is just for culling purposes
   maximum_range                      144 nm               # From Working Deck

   end_mode

   ignore_same_side
end_sensor

# Define the MEDIUM sensor for the RCS algorithm
sensor AN_MPQ-81_MEDIUM G425_SENSOR_BASE

   mode medium

   frame_time                          1 sec

   electronic_beam_steering            azimuth_and_elevation
   electronic_beam_steering_limit      70 deg               # Input from IBCS SME, different from Ref 1
                                                            # Value needs to be 1/2 of track sector
   electronic_beam_steering_loss_exponent 1.4               # Typical for phased-array

   transmitter
      antenna_pattern                  AN_MPQ-81_ANTENNA
      frequency                        6 ghz                # Ref 1, C band (4-8)

      # Nothing was specified about the power. But something must be given so the model
      # can compute a receiver noise power that results in a detection range of 170 km.
      #
      # The actual power isn't important because passive detection of the transmitter is
      # not being considered.

      power                            50 kw

      # We don't know anything else about the transmitted signal (pulse width, PRF,
      # pulse_compression), so nothing is supplied.

   end_transmitter

   receiver
      antenna_pattern                  AN_MPQ-81_ANTENNA

      # We don't know anything about the receiver (noise figure, etc.) The effective
      # noise power is derived by the model to get the required nominal detection range.
      #
      # This will probably result in a ridiculously low effective noise power, but
      # because we don't know anything about the transmitted signal modulation, we just
      # have let it ride. It shouldn't be important because we aren't worried about jamming
      # or passive detection.

   end_receiver

   detection_threshold                 12.8 db              # Nominal Swerling case 1, Pd=0.5
   #one_m2_detect_range                 170  km              # Ref 1
   compute_measurement_errors enable
   
   hits_to_establish_track             3 5
   hits_to_maintain_track              2 5
   reports_range
   reports_bearing
   reports_elevation
   reports_velocity
   reports_iff
   


   # DATA PAST THIS POINT IS BASED ON THE G425 WORKING DECK

   # Sensor scan angles
   scan_mode                           azimuth_and_elevation
   azimuth_scan_limits                 -70 deg 70 deg       # From Working Deck
   elevation_scan_limits               -70 deg 70 deg       # From Working Deck

   # This is just for culling purposes
   maximum_range                      81 nm               # From Working Deck

   end_mode

   ignore_same_side

end_sensor

# Define the SMALL sensor for the RCS algorithm
sensor AN_MPQ-81_SMALL G425_SENSOR_BASE

   mode small

   frame_time                          1 sec

   electronic_beam_steering            azimuth_and_elevation
   electronic_beam_steering_limit      70 deg               # Input from IBCS SME, different from Ref 1
                                                            # Value needs to be 1/2 of track sector
   electronic_beam_steering_loss_exponent 1.4               # Typical for phased-array

   transmitter
      antenna_pattern                  AN_MPQ-81_ANTENNA
      frequency                        6 ghz                # Ref 1, C band (4-8)

      # Nothing was specified about the power. But something must be given so the model
      # can compute a receiver noise power that results in a detection range of 170 km.
      #
      # The actual power isn't important because passive detection of the transmitter is
      # not being considered.

      power                            50 kw

      # We don't know anything else about the transmitted signal (pulse width, PRF,
      # pulse_compression), so nothing is supplied.

   end_transmitter

   receiver
      antenna_pattern                  AN_MPQ-81_ANTENNA

      # We don't know anything about the receiver (noise figure, etc.) The effective
      # noise power is derived by the model to get the required nominal detection range.
      #
      # This will probably result in a ridiculously low effective noise power, but
      # because we don't know anything about the transmitted signal modulation, we just
      # have let it ride. It shouldn't be important because we aren't worried about jamming
      # or passive detection.

   end_receiver

   detection_threshold                 12.8 db              # Nominal Swerling case 1, Pd=0.5
   #one_m2_detect_range                 170  km              # Ref 1
   compute_measurement_errors enable
   
   hits_to_establish_track             3 5
   hits_to_maintain_track              2 5
   reports_range
   reports_bearing
   reports_elevation
   reports_velocity
   reports_iff
   


   # DATA PAST THIS POINT IS BASED ON THE G425 WORKING DECK

   # Sensor scan angles
   scan_mode                           azimuth_and_elevation
   azimuth_scan_limits                 -70 deg 70 deg       # From Working Deck
   elevation_scan_limits               -70 deg 70 deg       # From Working Deck

   # This is just for culling purposes
   maximum_range                      45 nm               # From Working Deck

   end_mode

   ignore_same_side

end_sensor
